<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.example.ApiRound.mapper.TourPackageMapper">

    <!-- 패키지 전체 조회 -->
    <select id="getAllPackages" resultType="com.example.ApiRound.dto.TourPackageDto">
        SELECT
        PACKAGE_ID,
        NAME,
        DESCRIPTION,
        CATEGORY,
        REGION,
        IMAGE_PATH,
        IS_RECOMMENDED,
        CREATED_AT,
        UPDATED_AT
        FROM TOUR_PACKAGE
    </select>

    <!-- 패키지 단건 조회 -->
    <select id="getPackageById" parameterType="long" resultType="com.example.ApiRound.dto.TourPackageDto">
        SELECT
        PACKAGE_ID,
        NAME,
        DESCRIPTION,
        CATEGORY,
        REGION,
        IMAGE_PATH,
        IS_RECOMMENDED,
        CREATED_AT,
        UPDATED_AT
        FROM TOUR_PACKAGE
        WHERE PACKAGE_ID = #{id}
    </select>

    <!-- 특정 패키지의 아이템 리스트 (조인은 추후 확장 가능) -->
    <select id="getItemsByPackageId" parameterType="long" resultType="com.example.ApiRound.dto.TourPackageItemDto">
        SELECT
        ID,
        PACKAGE_ID,
        ITEM_ID,
        SEQUENCE_NO
        FROM TOUR_PACKAGE_ITEM
        WHERE PACKAGE_ID = #{packageId}
        ORDER BY SEQUENCE_NO
    </select>

</mapper>
